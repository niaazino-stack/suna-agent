
















































































































































































































































































































































































































































































































































































































































































































































































































--- a/wizard.py
+++ b/wizard.py
@@ -776,6 +776,7 @@
        # Initialize Supabase project if not already done
        supabase_config_path = "backend/supabase/config.toml"
        if not os.path.exists(supabase_config_path):
+
            print_info("Initializing Supabase project...")
            try:
                subprocess.run(



@@ -797,76 +798,28 @@
                    shell=IS_WINDOWS,
                )
















            print_info("Stopped any existing Supabase instance.")
+
        except:
            pass  # It's OK if stop fails (nothing running)

-
+
        # Configure local Supabase settings for development
        print_info("Configuring Supabase for local development...")
        self._configure_local_supabase_settings()



-        # Start Supabase services using Supabase CLI instead of Docker Compose
-        print_info("Starting Supabase services using Supabase CLI...")
+        # Start Supabase services using Docker Compose
+        print_info("Starting Supabase services using Docker Compose...")
        print_info("This may take a few minutes on first run (downloading Docker images)...")
        print_info("Please wait while Supabase starts...\n")

-
+
        try:

-            # Run without capturing output so user sees progress in real-time
+            # Run docker compose up
            result = subprocess.run(




-                ["npx", "supabase", "start"],
-                cwd="backend",
+                ["docker", "compose", "up", "-d", "db", "supabase_api"],
+                cwd=".",
                 check=True,
                 text=True,
                shell=IS_WINDOWS,
            )












































-
-            print_success("\nSupabase services started successfully!")
-
-            # Now run 'supabase status' to get the connection details
-            print_info("Retrieving connection details...")
-            status_result = subprocess.run(
-                ["npx", "supabase", "status"],
-                cwd="backend",
-                check=True,
-                capture_output=True,
-                text=True,
-                shell=IS_WINDOWS,
-            )
-
-            # Extract keys from the status output
-            output = status_result.stdout
-            print_info(f"Parsing Supabase status output...")
-
-            for line in output.split('\n'):
-                line = line.strip()
-                if 'API URL:' in line:
-                    url = line.split('API URL:')[1].strip()
-                    self.env_vars["supabase"]["SUPABASE_URL"] = url
-                    self.env_vars["supabase"]["NEXT_PUBLIC_SUPABASE_URL"] = url
-                    self.env_vars["supabase"]["EXPO_PUBLIC_SUPABASE_URL"] = url
-                    print_success(f"✓ Found API URL: {url}")
-                elif 'Publishable key:' in line or 'anon key:' in line:
-                    # Supabase status uses "Publishable key" which is the anon key
-                    anon_key = line.split(':')[1].strip()
-                    self.env_vars["supabase"]["SUPABASE_ANON_KEY"] = anon_key
-                    print_success(f"✓ Found Anon Key: {anon_key[:20]}...")
-                elif 'Secret key:' in line or 'service_role key:' in line:
-                    # Supabase status uses "Secret key" which is the service role key
-                    service_key = line.split(':')[1].strip()
-                    self.env_vars["supabase"]["SUPABASE_SERVICE_ROLE_KEY"] = service_key
-                    print_success(f"✓ Found Service Role Key: {service_key[:20]}...")
-
-            print_success("Supabase keys configured from CLI output!")
-
-        except subprocess.SubprocessError as e:
-            print_error(f"Failed to start Supabase services: {e}")
-            if hasattr(e, 'stderr') and e.stderr:
-                print_error(f"Error output: {e.stderr}")
-            return
-
-        # Wait a moment for services to be ready
-        print_info("Waiting for services to be ready...")
-        import time
-        time.sleep(5)






        # Set JWT secret (this is usually a fixed value for local development)
        self.env_vars["supabase"]["SUPABASE_JWT_SECRET"] = "your-super-secret-jwt-token-with-at-least-32-characters-long"
    



















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































